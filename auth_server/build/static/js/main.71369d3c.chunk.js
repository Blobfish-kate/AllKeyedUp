(this.webpackJsonpspotify_n_chill=this.webpackJsonpspotify_n_chill||[]).push([[0],{29:function(e,t,n){e.exports=n(43)},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),i=(n(34),n(13)),l=n(14),s=n(8),u=n(17),m=n(16),h=n(28),d=n(1),g=(n(35),n(15)),f=n.n(g),b=n(2),v=n(3);n(36);function p(){var e=Object(b.a)(["\n\n"]);return p=function(){return e},e}function k(){var e=Object(b.a)(["\n    height: 150%;\n    margin-top: 8%;\n    width: 40%;\n    font-size: larger;\n"]);return k=function(){return e},e}function y(){var e=Object(b.a)(["\n    position: absolute;\n    width: 100%;\n    margin-top: 15%;\n    margin-bottom: 20%;\n    padding: 0 15%;\n    text-align: center\n"]);return y=function(){return e},e}function E(){var e=Object(b.a)(["\n    \n"]);return E=function(){return e},e}function S(){var e=Object(b.a)(["\n    height: 100vh;\n    width: 100vw;\n    top: 0;\n    left: 0;\n    display: flex;\n    overflow: hidden\n"]);return S=function(){return e},e}var j=v.a.div(S()),w=v.a.h1(E()),O=v.a.div(y()),_=v.a.button(k()),C=v.a.a(p());var x=function(){for(var e=[],t=0;t<200;t++)e.push(r.a.createElement("span",{className:"c"}));return r.a.createElement(j,{className:"wrap"},e,r.a.createElement(O,null,r.a.createElement(w,null,"All Keyed Up"),r.a.createElement("h2",null,"Song recommendations in your favourite key..."),r.a.createElement(C,{href:"http://localhost:8888/login"},r.a.createElement(_,{type:"button",className:"btn btn-light"},"Login With Spotify"))))},N=n(27);function B(){var e=Object(b.a)(["\n    margin: 20px auto;\n    text-align: center;\n    &:hover "," {\n        opacity: 1\n    }\n"]);return B=function(){return e},e}function H(){var e=Object(b.a)(["\n    font-size: 100px;\n    color: white\n"]);return H=function(){return e},e}function P(){var e=Object(b.a)(["\n    margin-top: 25%;\n    opacity: 0;\n    tranisition: .3s ease;\n"]);return P=function(){return e},e}function R(){var e=Object(b.a)(["\n\n"]);return R=function(){return e},e}var A=v.a.img(R()),I=v.a.div(P()),G=v.a.i(H()),K=v.a.div(B(),I);var L=function(e){return r.a.createElement(K,{className:"container col-lg-4 col-md-6"},r.a.createElement("div",{className:"card shadow"},r.a.createElement(A,{className:"card-img",src:e.song.album.images[0].url,alt:"album cover"}),r.a.createElement(I,{className:"card-img-overlay text-white"},r.a.createElement("a",{href:e.song.external_urls.spotify,target:"_blank"},r.a.createElement(G,{className:"fa fa-play-circle card-title"}))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},e.song.name),r.a.createElement("p",{className:"card-text"},e.song.artists[0].name))))};function U(){var e=Object(b.a)(["\n    color: black\n"]);return U=function(){return e},e}function W(){var e=Object(b.a)(["\n    width: 100%;\n    background-color: white;\n    margin: auto;\n    text-align: center\n"]);return W=function(){return e},e}function D(){var e=Object(b.a)(["\n    width: 90vw;\n    margin: 0 auto\n"]);return D=function(){return e},e}var M=v.a.div(D()),T=v.a.div(W()),q=v.a.h2(U());var z=function(e){return r.a.createElement(M,{className:"container"},r.a.createElement(T,{className:"jumbotron"},r.a.createElement(q,null,"Results for: ",e.genreSelection," tracks in ",e.keySelection),r.a.createElement("h4",null,"Want to change your search critera?"),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-light",onClick:e.backButton},"Back")),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},e.recommendedSongs)))};function F(){var e=Object(b.a)(["\n      color: black\n    "]);return F=function(){return e},e}function J(){var e=Object(b.a)(["\n      padding-top: 10px;\n      margin-top: 20%;\n      background-color: white;\n      text-align: center;\n      width: 60vw;\n      background-color: whitesmoke\n    "]);return J=function(){return e},e}function $(){var e=Object(b.a)(["\n      \n    "]);return $=function(){return e},e}var Q=new f.a,V=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);var a=(e=t.call(this)).getHashParams();return e.state={loggedIn:!!a.access_token,token:a.access_token,genres:null,keyList:{C:0,"C#":1,D:2,"D#":3,E:4,F:5,"F#":6,G:7,"G#":8,A:9,Bb:10,B:11},mode:{major:1,minor:0},keySelection:"",genreSelection:"",timeSelection:0,recommendedSongs:null},a.access_token&&Q.setAccessToken(a.access_token),e.getRecommendations=e.getRecommendations.bind(Object(s.a)(e)),e.handleChange=e.handleChange.bind(Object(s.a)(e)),e.backButton=e.backButton.bind(Object(s.a)(e)),e}return Object(l.a)(n,[{key:"getHashParams",value:function(){for(var e,t={},n=/([^&;=]+)=?([^&;]*)/g,a=window.location.hash.substring(1);e=n.exec(a);)t[e[1]]=decodeURIComponent(e[2]);return console.log("Hash params:"+t),t}},{key:"componentDidMount",value:function(){var e=this;Q.getAvailableGenreSeeds().then((function(t){e.setState({genres:t.genres})}))}},{key:"getRecommendations",value:function(){var e=this,t=this.state.genreSelection,n=this.state.keyList[this.state.keySelection.substring(0,this.state.keySelection.indexOf("m")-1)],a=this.state.mode[this.state.keySelection.substring(this.state.keySelection.indexOf("m"),this.state.keySelection.length)],r=parseInt(this.state.timeSelection);console.log("Key: "+n),console.log("Mode: "+a),Q.getRecommendations({seed_genres:t,min_key:n,max_key:n,min_mode:a,max_mode:a,min_time_signature:r,max_time_signature:r,target_popularity:100}).then((function(t){console.log(t),e.setState({recommendedSongs:t.tracks})}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(N.a)({},n,a))}},{key:"backButton",value:function(){this.setState({recommendedSongs:null})}},{key:"render",value:function(){var e=this.state.genres?this.state.genres.map((function(e){return r.a.createElement("option",null,e)})):null,t=Object.keys(this.state.keyList).map((function(e){return r.a.createElement("option",null,e," major")})),n=Object.keys(this.state.keyList).map((function(e){return r.a.createElement("option",null,e," minor")})),a=Array.from({length:8},(function(e,t){return t+1})).map((function(e){return r.a.createElement("option",null,e)})),o=this.state.recommendedSongs?this.state.recommendedSongs.map((function(e){return r.a.createElement(L,{song:e})})):null,c=v.a.div($()),i=v.a.div(J()),l=v.a.h2(F());return r.a.createElement("div",null,r.a.createElement("h1",null,"All Keyed Up"),r.a.createElement("div",{style:{display:this.state.recommendedSongs&&"none"}},r.a.createElement(i,{className:"jumbotron"},r.a.createElement("div",null,r.a.createElement(l,null,"Choose your favourite genre and key..."),r.a.createElement("label",null,"Choose a Genre (",r.a.createElement("strong",null,"required"),"): "),r.a.createElement("select",{onChange:this.handleChange,id:"genreSelection",name:"genreSelection",value:this.state.genreSelection,required:!0},r.a.createElement("option",null,"--Select genre--"),e),r.a.createElement("br",null),r.a.createElement("label",null,"Choose a Key: "),r.a.createElement("select",{onChange:this.handleChange,id:"trackKey",name:"keySelection",value:this.state.keySelection},r.a.createElement("option",null,"--Select key--"),t,n),r.a.createElement("br",null),r.a.createElement("label",null,"Choose a Time Signature: "),r.a.createElement("select",{onChange:this.handleChange,id:"timeSelection",type:"number",name:"timeSelection",value:this.state.timeSelection},r.a.createElement("option",null,"--Select beats/bar--"),a),r.a.createElement("span",{style:{display:!this.state.timeSelection&&"none"}},"beats per bar")),r.a.createElement("button",{className:"btn btn-light",onClick:this.getRecommendations},"Get recommendations"))),r.a.createElement(c,{style:{display:!this.state.recommendedSongs&&"none"}},r.a.createElement(z,{recommendedSongs:o,keySelection:this.state.keySelection,genreSelection:this.state.genreSelection,backButton:this.backButton})))}}]),n}(r.a.Component),X=new f.a,Y=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);var a=(e=t.call(this)).getHashParams();return e.state={loggedIn:!!a.access_token,token:a.access_token},a.access_token&&X.setAccessToken(a.access_token),e.getHashParams=e.getHashParams.bind(Object(s.a)(e)),e}return Object(l.a)(n,[{key:"getHashParams",value:function(){for(var e,t={},n=/([^&;=]+)=?([^&;]*)/g,a=window.location.hash.substring(1);e=n.exec(a);)t[e[1]]=decodeURIComponent(e[2]);return console.log("Hash params:"+t),t}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/recommendation",component:function(){return r.a.createElement(V,null)}}),r.a.createElement(d.a,{path:"/",component:function(){return r.a.createElement(x,{getHashParams:e.state.getHashParams,user:e.state,exact:!0})}})))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.71369d3c.chunk.js.map